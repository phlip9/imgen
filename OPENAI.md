# OpenAI image generation API


## Create image

Creates an image given a prompt.

### Example

```bash
$ curl https://api.openai.com/v1/images/generations \
    -H "Content-Type: application/json" \
    -H "Authorization: Bearer $OPENAI_API_KEY" \
    -d '{
      "model": "gpt-image-1",
      "prompt": "A cute baby sea otter",
      "n": 1,
      "size": "1024x1024"
    }'
```

### Example response

```json
{
  "created": 1713833628,
  "data": [
    {
      "b64_json": "..."
    }
  ],
  "usage": {
    "total_tokens": 100,
    "input_tokens": 50,
    "output_tokens": 50,
    "input_tokens_details": {
      "text_tokens": 10,
      "image_tokens": 40
    }
  }
}
```

### Request body

#### `prompt` - string - Required

A text description of the desired image(s). The maximum length is 32000 characters for gpt-image-1, 1000 characters for dall-e-2 and 4000 characters for dall-e-3.

#### `background` - string or null - Optional (Defaults to `"auto"`)

Allows to set transparency for the background of the generated image(s). This parameter is only supported for gpt-image-1. Must be one of transparent, opaque or auto (default value). When auto is used, the model will automatically determine the best background for the image.

If transparent, the output format needs to support transparency, so it should be set to either png (default value) or webp.

#### `model` - string - Optional (Defaults to `"dall-e-2"`)

The model to use for image generation. One of `"dall-e-2"`, `"dall-e-3"`, or `"gpt-image-1"`. Defaults to dall-e-2 unless a parameter specific to gpt-image-1 is used.

#### `moderation` - string or null - Optional (Defaults to `"auto"`)

Control the content-moderation level for images generated by gpt-image-1. Must be either low for less restrictive filtering or auto (default value).

#### `n` - integer or null - Optional (Defaults to 1)

The number of images to generate. Must be between 1 and 10. For dall-e-3, only n=1 is supported.

#### `output_compression` - integer or null - Optional (Defaults to 100)

The compression level (0-100%) for the generated images. This parameter is only supported for gpt-image-1 with the webp or jpeg output formats, and defaults to 100.

#### `output_format` - string or null - Optional (Defaults to `"png"`)

The format in which the generated images are returned. This parameter is only supported for gpt-image-1. Must be one of png, jpeg, or webp.

#### `quality` - string or null - Optional (Defaults to `"auto"`)

The quality of the image that will be generated.

* `"auto"` (default value) will automatically select the best quality for the given model.
* `"high"`, medium and low are supported for gpt-image-1.
* `"hd"` and standard are supported for dall-e-3.
* `"standard"` is the only option for dall-e-2.

#### `response_format` - string or null - Optional (Defaults to `"url"`)

The format in which generated images with dall-e-2 and dall-e-3 are returned. Must be one of url or b64_json. URLs are only valid for 60 minutes after the image has been generated. This parameter isn't supported for gpt-image-1 which will always return base64-encoded images.

#### `size` - string or null - Optional (Defaults to `"auto"`)

The size of the generated images. Must be one of 1024x1024, 1536x1024 (landscape), 1024x1536 (portrait), or auto (default value) for gpt-image-1, one of 256x256, 512x512, or 1024x1024 for dall-e-2, and one of 1024x1024, 1792x1024, or 1024x1792 for dall-e-3.

#### `style` - string or null - Optional (Defaults to `"vivid"`)

The style of the generated images. This parameter is only supported for dall-e-3. Must be one of vivid or natural. Vivid causes the model to lean towards generating hyper-real and dramatic images. Natural causes the model to produce more natural, less hyper-real looking images.

#### `user` - string or null - Optional

A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. Learn more.

### Response

Returns a list of `image` objects.


## Create image edit

Creates an edited or extended image given one or more source images and a prompt. This endpoint only supports gpt-image-1 and dall-e-2.

### Example request

```bash
$ curl -s -D >(grep -i x-request-id >&2) \
    -o >(jq -r '.data[0].b64_json' | base64 --decode > gift-basket.png) \
    -X POST "https://api.openai.com/v1/images/edits" \
    -H "Authorization: Bearer $OPENAI_API_KEY" \
    -F "model=gpt-image-1" \
    -F "image[]=@body-lotion.png" \
    -F "image[]=@bath-bomb.png" \
    -F "image[]=@incense-kit.png" \
    -F "image[]=@soap.png" \
    -F 'prompt=Create a lovely gift basket with these four items in it'
```

### Example response

```json
{
  "created": 1713833628,
  "data": [
    {
      "b64_json": "..."
    }
  ],
  "usage": {
    "total_tokens": 100,
    "input_tokens": 50,
    "output_tokens": 50,
    "input_tokens_details": {
      "text_tokens": 10,
      "image_tokens": 40
    }
  }
}
```

### Request body

#### `image` - string or array - Required

The image(s) to edit. Must be a supported image file or an array of images. For gpt-image-1, each image should be a png, webp, or jpg file less than 25MB. For dall-e-2, you can only provide one image, and it should be a square png file less than 4MB.

#### `prompt` - string - Required

A text description of the desired image(s). The maximum length is 1000 characters for dall-e-2, and 32000 characters for gpt-image-1.

#### `mask` - file - Optional

An additional image whose fully transparent areas (e.g. where alpha is zero) indicate where image should be edited. If there are multiple images provided, the mask will be applied on the first image. Must be a valid PNG file, less than 4MB, and have the same dimensions as image.

#### `model` - string - Optional (Defaults to `"dall-e-2"`)

The model to use for image generation. Only `"dall-e-2"` and `"gpt-image-1"` are supported. Defaults to dall-e-2 unless a parameter specific to gpt-image-1 is used.

#### `n` - integer or null - Optional (Defaults to 1)

The number of images to generate. Must be between 1 and 10.

#### `quality` - string or null - Optional (Defaults to `"auto"`)

The quality of the image that will be generated. high, medium and low are only supported for gpt-image-1. dall-e-2 only supports standard quality. Defaults to auto.

#### `response_format` - string or null - Optional (Defaults to `"url"`)

The format in which the generated images are returned. Must be one of url or b64_json. URLs are only valid for 60 minutes after the image has been generated. This parameter is only supported for dall-e-2, as gpt-image-1 will always return base64-encoded images.

#### `size` - string or null - Optional (Defaults to `"1024x1024"`)

The size of the generated images. Must be one of 1024x1024, 1536x1024 (landscape), 1024x1536 (portrait), or auto (default value) for gpt-image-1, and one of 256x256, 512x512, or 1024x1024 for dall-e-2.

#### `user` - string or null - Optional

A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. Learn more.

### Response

Returns a list of `image` objects.


## `image` - object

### Example `image` object

```json
{
  "created": 1713833628,
  "data": [
    {
      "b64_json": "..."
    }
  ],
  "usage": {
    "total_tokens": 100,
    "input_tokens": 50,
    "output_tokens": 50,
    "input_tokens_details": {
      "text_tokens": 10,
      "image_tokens": 40
    }
  }
}
```

### `created` - integer

The Unix timestamp (in seconds) of when the image was created.

### `data` - array

The list of generated images.

### `data.b64_json` - string

The base64-encoded JSON of the generated image. Default value for gpt-image-1, and only present if response_format is set to b64_json for dall-e-2 and dall-e-3.

### `data.revised_prompt` - string

For dall-e-3 only, the revised prompt that was used to generate the image.

### `data.url` - string

When using dall-e-2 or dall-e-3, the URL of the generated image if response_format is set to url (default value). Unsupported for gpt-image-1.

### `usage` - object

For gpt-image-1 only, the token usage information for the image generation.

### `usage.input_tokens` - integer

The number of tokens (images and text) in the input prompt.

### `usage.input_tokens_details` - object

The input tokens detailed information for the image generation.

### `usage.input_tokens_details.image_tokens` - integer

The number of image tokens in the input prompt.

### `usage.input_tokens_details.text_tokens` - integer

The number of text tokens in the input prompt.

### `usage.output_tokens` - integer

The number of image tokens in the output image.

### `usage.total_tokens` - integer

The total number of tokens (images and text) used for the image generation.
